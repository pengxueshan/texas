(this.webpackJsonptexas=this.webpackJsonptexas||[]).push([[0],{104:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return b}));var a=n(4),r=n.n(a),c=n(19),u=n(10),o=n(27);function s(){return i.apply(this,arguments)}function i(){return(i=Object(u.a)(r.a.mark((function e(){var t,n=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,Object(o.a)({url:"/addRound",method:"post",data:Object(c.a)({},t)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return d.apply(this,arguments)}function d(){return(d=Object(u.a)(r.a.mark((function e(){var t,n=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,Object(o.a)({url:"/rounds",method:"post",data:Object(c.a)({},t)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(r.a.mark((function e(){var t,n=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,Object(o.a)({url:"/ranklist",method:"post",data:Object(c.a)({},t)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return v.apply(this,arguments)}function v(){return(v=Object(u.a)(r.a.mark((function e(){var t,n=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,Object(o.a)({url:"/roundDetails",method:"post",data:Object(c.a)({},t)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return E.apply(this,arguments)}function E(){return(E=Object(u.a)(r.a.mark((function e(){var t,n=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,Object(o.a)({url:"/updateRound",method:"post",data:Object(c.a)({},t)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return o}));function a(e){return{type:"SET_PLAYERS",payload:{players:e}}}function r(e){return{type:"SET_ROUNDS",payload:{rounds:e}}}function c(e){return{type:"SET_ROUND_DETAILS",payload:{roundDetails:e}}}function u(e){return{type:"SET_WIN_TIMES",payload:{winTimes:e}}}var o={SET_USER_INFO:"SET_USER_INFO",SET_PLAYERS:"SET_PLAYERS",SET_ROUNDS:"SET_ROUNDS",SET_SHOW_SESSION:"SET_SHOW_SESSION",SET_IS_AUTHENTICATED:"SET_IS_AUTHENTICATED",SET_ROUND_DETAILS:"SET_ROUND_DETAILS",SET_WIN_TIMES:"SET_WIN_TIMES"}},231:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n(4),r=n.n(a),c=n(19),u=n(10),o=n(27);function s(){return i.apply(this,arguments)}function i(){return(i=Object(u.a)(r.a.mark((function e(){var t,n=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,Object(o.a)({url:"/players",method:"post",data:Object(c.a)({},t)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return d.apply(this,arguments)}function d(){return(d=Object(u.a)(r.a.mark((function e(){var t,n=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,Object(o.a)({url:"/addPlayer",method:"post",data:Object(c.a)({},t)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},232:function(e,t,n){"use strict";function a(e){var t={};return e.forEach((function(e){e.players.forEach((function(e){e.amount>0&&(void 0===t[e.playerId]&&(t[e.playerId]=0),t[e.playerId]+=1)}))})),t}n.d(t,"a",(function(){return a}))},256:function(e,t,n){e.exports=n(467)},261:function(e,t,n){},263:function(e,t,n){},264:function(e,t,n){},268:function(e,t){},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(4),r=n.n(a),c=n(19),u=n(10),o=n(234),s=n.n(o);function i(e){return l.apply(this,arguments)}function l(){return(l=Object(u.a)(r.a.mark((function e(t){var n,a,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s()(Object(c.a)({baseURL:"/api"},t));case 2:if(n=e.sent,a=n.status,u=n.data,200!==a){e.next=6;break}return e.abrupt("return",u.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},270:function(e,t){},301:function(e,t){},302:function(e,t){},460:function(e,t,n){},467:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),u=n.n(c),o=(n(261),n(4)),s=n.n(o),i=n(10),l=n(39),d=n(58),p=n(156),f=n(85),h=(n(263),n(38)),v=n(474),b=n(471),E=n(472),S=(n(264),r.a.createContext({players:[],rounds:[],roundDetails:[],showSession:!1,setPlayers:function(){},setRounds:function(){},setShowSession:function(){},isAuthenticated:!1,setIsAuthenticated:function(){},getPlayers:function(){},getRounds:function(){},setRoundDetails:function(){}})),m=n(165),O=n(19),y=n(27);function w(){return(w=Object(i.a)(s.a.mark((function e(){var t,n=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,Object(y.a)({url:"/login",method:"post",data:Object(O.a)({},t)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){var t=e.visible,n=Object(a.useState)(!1),c=Object(h.a)(n,2),u=c[0],o=c[1],s=Object(a.useState)(""),i=Object(h.a)(s,2),l=i[0],d=i[1],p=Object(a.useState)(""),f=Object(h.a)(p,2),O=f[0],y=f[1],j=Object(a.useState)(""),g=Object(h.a)(j,2),T=(g[0],g[1],Object(a.useContext)(S));return r.a.createElement(b.a,{title:"\u767b\u5f55",visible:t,onOk:function(){return l?O?(o(!0),void function(){return w.apply(this,arguments)}({phoneNumber:"+86".concat(l),password:Object(m.MD5)(O).toString().toLowerCase()}).then((function(e){o(!1),T.setShowSession(!1)})).catch((function(e){o(!1),e&&v.a.error(e.message)}))):v.a.error("\u8bf7\u8f93\u5165\u5bc6\u7801"):v.a.error("\u8bf7\u8f93\u5165\u624b\u673a\u53f7")},onCancel:function(){T.setShowSession(!1)},confirmLoading:u},r.a.createElement("div",{className:"session"},r.a.createElement("div",{className:"form-row"},r.a.createElement(E.a,{placeholder:"\u624b\u673a\u53f7\u7801",value:l,onChange:function(e){d(e.target.value)}})),r.a.createElement("div",{className:"form-row"},r.a.createElement(E.a,{placeholder:"\u5bc6\u7801",value:O,onChange:function(e){y(e.target.value)},type:"password"}))))}n(470);var g=n(84);n(473);function T(){var e=Object(a.useContext)(S);return r.a.createElement("div",{className:"top-bar"},r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(g.b,{to:"/"},"\u6392\u884c\u699c")))),r.a.createElement("div",{className:"user-section"},r.a.createElement("span",{className:"link-style",onClick:function(){e.setShowSession(!0)}},"\u767b\u5f55"),r.a.createElement(j,{visible:e.showSession})))}var _=n(9),R=n(469),x=n(87),I=n(231),D=n(104),N=n(20),k=n(232),A=(n(460),n(461),Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(5)]).then(n.bind(null,620))}))),U=Object(a.lazy)((function(){return n.e(4).then(n.bind(null,617))})),L=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={list:[]},e.getPlayers=Object(i.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(I.b)();case 2:n=t.sent,e.props.setPlayers(n);case 4:case"end":return t.stop()}}),t)}))),e.getRounds=Object(i.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(D.d)();case 2:n=t.sent,e.props.setRounds(n);case 4:case"end":return t.stop()}}),t)}))),e.getRoundDetails=Object(i.a)(s.a.mark((function t(){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(D.c)();case 2:n=t.sent,e.props.setRoundDetails(n),a=Object(k.a)(n),e.props.setWinTimes(a);case 6:case"end":return t.stop()}}),t)}))),e.getRankList=function(){Object(D.b)().then((function(t){e.setState({list:t})}))},e.handleAddDone=function(){e.getRankList(),e.getRounds(),e.getRoundDetails()},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getPlayers(),this.getRounds(),this.getRankList()}},{key:"render",value:function(){var e=this.state.list;return r.a.createElement("div",{className:"app"},r.a.createElement(g.a,null,r.a.createElement(T,null),r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(R.a,null))},r.a.createElement(_.c,null,r.a.createElement(_.a,{path:"/encrypt"},r.a.createElement(U,null)),r.a.createElement(_.a,{path:"/"},r.a.createElement(A,{list:e,onAddDone:this.handleAddDone}))))))}}]),n}(a.Component),C={setPlayers:N.a,setRounds:N.c,setRoundDetails:N.b,setWinTimes:N.d},P=Object(x.b)((function(){return{}}),C)(L);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=n(249),H=n(15),M=n(70);var Y=Object(M.b)({userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.e.SET_USER_INFO:return e=t.payload.userInfo;default:return e}},players:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.e.SET_PLAYERS:return e=t.payload.players;default:return e}},rounds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.e.SET_ROUNDS:return e=t.payload.rounds;default:return e}},roundDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.e.SET_ROUND_DETAILS:return e=t.payload.roundDetails;default:return e}},showSession:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.e.SET_SHOW_SESSION:return e=t.payload.showSession;default:return e}},isAuthenticated:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.e.SET_IS_AUTHENTICATED:return e=t.payload.isAuthenticated;default:return e}},winTimes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.e.SET_WIN_TIMES:return e=t.payload.winTimes;default:return e}}}),F=Object(M.c)(Y);u.a.render(r.a.createElement(H.a,{locale:W.a},r.a.createElement(x.a,{store:F},r.a.createElement(P,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[256,1,2]]]);
//# sourceMappingURL=main.592d4014.chunk.js.map